"use strict";

window.onload = function () {
  var e = document.documentElement.clientWidth < 768,
      l = document.querySelector(".slider__menu"),
      i = document.querySelectorAll(".slider-menu__elem"),
      s = document.querySelector(".slider__slides"),
      t = document.querySelectorAll(".slider__slide"),
      r = document.querySelector(".slider-menu__article"),
      c = document.querySelector(".hero__first-row");
  var d = null;

  if (e) {
    i.forEach(function (e) {
      e.addEventListener("click", function (l) {
        if (l.target.classList.contains("slider-menu__close")) return;
        var n = e.getAttribute("data-target");
        null != d && (s.querySelector(".slider-slide_active").classList.remove("slider-slide_active"), d = null), t[n - 1].classList.add("slider-slide_active"), d = t[n - 1], i.forEach(function (e) {
          e.classList.add("slider-menu__elem_invisible"), e.classList.remove("slider-menu__elem_active");
        }), r.classList.add("slider-menu__article_invisible"), e.classList.add("slider-menu__elem_active"), e.classList.remove("slider-menu__elem_invisible"), e.querySelector(".slider-menu__close").classList.remove("slider-menu__close_hidden"), c.classList.add("hero__first-row_hidden");
      });
    });
    l.querySelectorAll(".slider-menu__close").forEach(function (e) {
      e.addEventListener("click", function (l) {
        i.forEach(function (e) {
          e.classList.remove("slider-menu__elem_invisible"), e.classList.remove("slider-menu__elem_active");
        }), r.classList.remove("slider-menu__article_invisible"), null != d && (s.querySelector(".slider-slide_active").classList.remove("slider-slide_active"), d = null), e.classList.add("slider-menu__close_hidden"), c.classList.remove("hero__first-row_hidden");
      });
    });
  } else t[0].classList.add("slider-slide_active"), i[0].classList.add("slider-menu__elem_active"), i.forEach(function (e) {
    e.addEventListener("click", function (i) {
      var r = e.getAttribute("data-target");
      s.querySelector(".slider-slide_active").classList.remove("slider-slide_active"), t[r - 1].classList.add("slider-slide_active"), l.querySelector(".slider-menu__elem_active").classList.remove("slider-menu__elem_active"), e.classList.add("slider-menu__elem_active");
    });
  });

  var n = document.querySelector(".burger-button").parentElement,
      a = document.querySelector(".menu");
  n.addEventListener("click", function (e) {
    a.classList.toggle("menu_active"), n.querySelector(".burger-button").classList.toggle("burger-button_active");
  });
  document.querySelectorAll(".menu-elem__header").forEach(function (e) {
    e.addEventListener("click", function (l) {
      a.querySelector(".menu-elem_active").classList.remove("menu-elem_active"), e.parentElement.classList.add("menu-elem_active");
    });
  });
  new Swiper(".swiper", {
    pagination: {
      el: ".swiper-pagination"
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev"
    },
    scrollbar: {
      el: ".swiper-scrollbar"
    }
  }).on("slideChange", function (e) {
    !function (e) {
      var l = e.el.previousElementSibling.querySelectorAll(".numbering__elem");
      e.el.previousElementSibling.querySelector(".numbering__elem_active").classList.remove("numbering__elem_active"), l[e.activeIndex].classList.add("numbering__elem_active");
    }(e);
  }), document.querySelector(".preloader").classList.add("preloader_hidden");
};